{
  "info": {
    "name": "Mini Today Sales API",
    "description": "Mini Today Sales 시스템 API 컬렉션",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080",
      "type": "string"
    },
    {
      "key": "businessNumber",
      "value": "123-45-67890",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "매출 데이터 수신 (Webhook)",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"businessNumber\": \"{{businessNumber}}\",\n  \"transactionTime\": \"2024-01-15T14:30:00\",\n  \"amount\": 25000,\n  \"paymentType\": \"CARD\",\n  \"channel\": \"ONLINE\",\n  \"orderNumber\": \"ORDER-20240115-001\"\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/v1/sales/webhook",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "api",
            "v1",
            "sales",
            "webhook"
          ]
        },
        "description": "매출 데이터를 수신하여 시스템에 등록합니다.\n\n**요청 데이터 예시:**\n- businessNumber: 사업자번호 (xxx-xx-xxxxx 형식)\n- transactionTime: 거래시간 (ISO DateTime)\n- amount: 결제금액 (양수)\n- paymentType: 결제수단 (CARD, CASH)\n- channel: 판매채널 (ONLINE, OFFLINE)\n- orderNumber: 주문번호 (최대 50자)"
      },
      "response": [
        {
          "name": "성공 응답",
          "originalRequest": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"businessNumber\": \"123-45-67890\",\n  \"transactionTime\": \"2024-01-15T14:30:00\",\n  \"amount\": 25000,\n  \"paymentType\": \"CARD\",\n  \"channel\": \"ONLINE\",\n  \"orderNumber\": \"ORDER-20240115-001\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/sales/webhook",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "sales",
                "webhook"
              ]
            }
          },
          "status": "Created",
          "code": 201,
          "header": [],
          "body": "{\n  \"success\": true,\n  \"message\": \"매출이 성공적으로 등록되었습니다\",\n  \"data\": {\n    \"id\": 1,\n    \"businessNumber\": \"123-45-67890\",\n    \"storeName\": \"테스트 매장\",\n    \"transactionTime\": \"2024-01-15T14:30:00\",\n    \"amount\": 25000,\n    \"paymentType\": \"CARD\",\n    \"channel\": \"ONLINE\",\n    \"orderNumber\": \"ORDER-20240115-001\",\n    \"fee\": 625.00,\n    \"netAmount\": 24375.00,\n    \"status\": \"COMPLETED\"\n  },\n  \"timestamp\": \"2024-01-15T14:30:05\"\n}"
        }
      ]
    },
    {
      "name": "대시보드 조회",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/api/v1/sales/dashboard/{{businessNumber}}?date=2024-01-15",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "api",
            "v1",
            "sales",
            "dashboard",
            "{{businessNumber}}"
          ],
          "query": [
            {
              "key": "date",
              "value": "2024-01-15",
              "description": "조회할 날짜 (YYYY-MM-DD 형식, 기본값: 오늘)"
            }
          ]
        },
        "description": "특정 날짜의 대시보드 데이터를 조회합니다.\n\n**포함 데이터:**\n- 일일 총매출 및 거래건수\n- 결제수단별 통계\n- 시간대별 매출 통계"
      },
      "response": [
        {
          "name": "성공 응답",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/sales/dashboard/{{businessNumber}}?date=2024-01-15",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "sales",
                "dashboard",
                "{{businessNumber}}"
              ],
              "query": [
                {
                  "key": "date",
                  "value": "2024-01-15"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "header": [],
          "body": "{\n  \"success\": true,\n  \"message\": \"성공\",\n  \"data\": {\n    \"date\": \"2024-01-15\",\n    \"totalAmount\": 75000,\n    \"totalCount\": 5,\n    \"paymentTypeStatistics\": [\n      {\n        \"paymentType\": \"카드\",\n        \"amount\": 50000,\n        \"count\": 3,\n        \"fee\": 1250.00,\n        \"netAmount\": 48750.00\n      },\n      {\n        \"paymentType\": \"현금\",\n        \"amount\": 25000,\n        \"count\": 2,\n        \"fee\": 0,\n        \"netAmount\": 25000\n      }\n    ],\n    \"hourlyStatistics\": [\n      {\n        \"hour\": 9,\n        \"amount\": 15000,\n        \"count\": 1\n      },\n      {\n        \"hour\": 14,\n        \"amount\": 35000,\n        \"count\": 2\n      },\n      {\n        \"hour\": 19,\n        \"amount\": 25000,\n        \"count\": 2\n      }\n    ]\n  },\n  \"timestamp\": \"2024-01-15T20:30:00\"\n}"
        }
      ]
    },
    {
      "name": "매출 목록 조회 (페이징)",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/api/v1/sales/{{businessNumber}}?startDate=2024-01-01T00:00:00&endDate=2024-01-31T23:59:59&page=0&size=20&sort=transactionTime,desc",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "api",
            "v1",
            "sales",
            "{{businessNumber}}"
          ],
          "query": [
            {
              "key": "startDate",
              "value": "2024-01-01T00:00:00",
              "description": "시작일시 (ISO DateTime 형식)"
            },
            {
              "key": "endDate",
              "value": "2024-01-31T23:59:59",
              "description": "종료일시 (ISO DateTime 형식)"
            },
            {
              "key": "page",
              "value": "0",
              "description": "페이지 번호 (0부터 시작, 기본값: 0)"
            },
            {
              "key": "size",
              "value": "20",
              "description": "페이지 크기 (기본값: 20)"
            },
            {
              "key": "sort",
              "value": "transactionTime,desc",
              "description": "정렬 조건 (기본값: transactionTime,desc)"
            }
          ]
        },
        "description": "지정된 기간의 매출 목록을 페이징 처리하여 조회합니다.\n\n**쿼리 파라미터:**\n- startDate, endDate: 조회 기간 (필수)\n- page, size: 페이징 설정\n- sort: 정렬 조건"
      },
      "response": [
        {
          "name": "성공 응답",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/sales/{{businessNumber}}?startDate=2024-01-01T00:00:00&endDate=2024-01-31T23:59:59&page=0&size=20",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "sales",
                "{{businessNumber}}"
              ],
              "query": [
                {
                  "key": "startDate",
                  "value": "2024-01-01T00:00:00"
                },
                {
                  "key": "endDate",
                  "value": "2024-01-31T23:59:59"
                },
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "20"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "header": [],
          "body": "{\n  \"success\": true,\n  \"message\": \"성공\",\n  \"data\": {\n    \"content\": [\n      {\n        \"id\": 15,\n        \"businessNumber\": \"123-45-67890\",\n        \"storeName\": \"테스트 매장\",\n        \"transactionTime\": \"2024-01-15T19:30:00\",\n        \"amount\": 15000,\n        \"paymentType\": \"CASH\",\n        \"channel\": \"OFFLINE\",\n        \"orderNumber\": \"ORDER-20240115-015\",\n        \"fee\": 0,\n        \"netAmount\": 15000,\n        \"status\": \"COMPLETED\"\n      }\n    ],\n    \"pageable\": {\n      \"sort\": {\n        \"sorted\": true,\n        \"unsorted\": false\n      },\n      \"pageNumber\": 0,\n      \"pageSize\": 20\n    },\n    \"totalElements\": 45,\n    \"totalPages\": 3,\n    \"last\": false,\n    \"first\": true,\n    \"numberOfElements\": 20\n  },\n  \"timestamp\": \"2024-01-15T20:30:00\"\n}"
        }
      ]
    },\n    {\n      \"name\": \"월별 리포트 조회\",\n      \"request\": {\n        \"method\": \"GET\",\n        \"header\": [],\n        \"url\": {\n          \"raw\": \"{{baseUrl}}/api/v1/sales/report/monthly/{{businessNumber}}?yearMonth=2024-01\",\n          \"host\": [\n            \"{{baseUrl}}\"\n          ],\n          \"path\": [\n            \"api\",\n            \"v1\",\n            \"sales\",\n            \"report\",\n            \"monthly\",\n            \"{{businessNumber}}\"\n          ],\n          \"query\": [\n            {\n              \"key\": \"yearMonth\",\n              \"value\": \"2024-01\",\n              \"description\": \"조회할 년월 (YYYY-MM 형식)\"\n            }\n          ]\n        },\n        \"description\": \"지정된 월의 매출 리포트를 조회합니다.\\n\\n**포함 데이터:**\\n- 월별 총매출, 거래건수, 수수료, 순매출\\n- 일별 매출 통계\\n- 결제수단별 월간 통계\"\n      },\n      \"response\": [\n        {\n          \"name\": \"성공 응답\",\n          \"originalRequest\": {\n            \"method\": \"GET\",\n            \"header\": [],\n            \"url\": {\n              \"raw\": \"{{baseUrl}}/api/v1/sales/report/monthly/{{businessNumber}}?yearMonth=2024-01\",\n              \"host\": [\n                \"{{baseUrl}}\"\n              ],\n              \"path\": [\n                \"api\",\n                \"v1\",\n                \"sales\",\n                \"report\",\n                \"monthly\",\n                \"{{businessNumber}}\"\n              ],\n              \"query\": [\n                {\n                  \"key\": \"yearMonth\",\n                  \"value\": \"2024-01\"\n                }\n              ]\n            }\n          },\n          \"status\": \"OK\",\n          \"code\": 200,\n          \"header\": [],\n          \"body\": \"{\\n  \\\"success\\\": true,\\n  \\\"message\\\": \\\"성공\\\",\\n  \\\"data\\\": {\\n    \\\"yearMonth\\\": \\\"2024-01\\\",\\n    \\\"totalAmount\\\": 2500000,\\n    \\\"totalCount\\\": 125,\\n    \\\"totalFee\\\": 45000,\\n    \\\"totalNetAmount\\\": 2455000,\\n    \\\"dailyStatistics\\\": [\\n      {\\n        \\\"day\\\": 1,\\n        \\\"amount\\\": 85000,\\n        \\\"count\\\": 5\\n      },\\n      {\\n        \\\"day\\\": 2,\\n        \\\"amount\\\": 92000,\\n        \\\"count\\\": 6\\n      }\\n    ],\\n    \\\"paymentTypeStatistics\\\": [\\n      {\\n        \\\"paymentType\\\": \\\"카드\\\",\\n        \\\"amount\\\": 1800000,\\n        \\\"count\\\": 90,\\n        \\\"fee\\\": 45000,\\n        \\\"netAmount\\\": 1755000\\n      },\\n      {\\n        \\\"paymentType\\\": \\\"현금\\\",\\n        \\\"amount\\\": 700000,\\n        \\\"count\\\": 35,\\n        \\\"fee\\\": 0,\\n        \\\"netAmount\\\": 700000\\n      }\\n    ]\\n  },\\n  \\\"timestamp\\\": \\\"2024-01-31T20:30:00\\\"\\n}\"\n        }\n      ]\n    },
    {
      "name": "현금 결제 매출 생성",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"businessNumber\": \"{{businessNumber}}\",\n  \"transactionTime\": \"2024-01-15T16:45:00\",\n  \"amount\": 15000,\n  \"paymentType\": \"CASH\",\n  \"channel\": \"OFFLINE\",\n  \"orderNumber\": \"ORDER-20240115-002\"\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/v1/sales/webhook",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "api",
            "v1",
            "sales",
            "webhook"
          ]
        },
        "description": "현금 결제 매출 데이터 예시 (수수료 0%)"
      }
    },
    {
      "name": "유효성 검증 실패 테스트",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"businessNumber\": \"invalid-format\",\n  \"transactionTime\": \"2024-01-15T14:30:00\",\n  \"amount\": -1000,\n  \"paymentType\": \"INVALID_TYPE\",\n  \"channel\": \"ONLINE\",\n  \"orderNumber\": \"\"\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/v1/sales/webhook",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "api",
            "v1",
            "sales",
            "webhook"
          ]
        },
        "description": "유효성 검증 실패 테스트용 잘못된 데이터"
      }
    }
  ]
}